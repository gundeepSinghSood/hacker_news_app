{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react';\nimport { v, INITIAL_STORY_LOAD } from './config';\nexport const useInfiniteScroll = () => {\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: count,\n    1: setCount\n  } = useState(STORY_INCREMENT);\n\n  const handleScroll = () => {\n    if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || loading) {\n      return false;\n    }\n\n    setLoading(true);\n  };\n\n  useEffect(() => {\n    if (!loading) return;\n\n    if (count + STORY_INCREMENT >= MAX_STORIES) {\n      setCount(MAX_STORIES);\n    } else {\n      setCount(count + STORY_INCREMENT);\n    }\n\n    setLoading(false);\n  }, [loading]);\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n  return {\n    count\n  };\n};","map":{"version":3,"sources":["/Users/gunsood/Documents/Projects/Hacker_News_Article_App/hacker-news-app/util/useInfiniteScroll.js"],"names":["useState","useEffect","v","INITIAL_STORY_LOAD","useInfiniteScroll","loading","setLoading","count","setCount","STORY_INCREMENT","handleScroll","window","innerHeight","document","documentElement","scrollTop","offsetHeight","MAX_STORIES","addEventListener","removeEventListener"],"mappings":"AAAA;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,CAAT,EAAYC,kBAAZ,QAAsC,UAAtC;AAEA,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACrC,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBN,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAA,OAACO,KAAD;AAAA,OAAQC;AAAR,MAAoBR,QAAQ,CAACS,eAAD,CAAlC;;AAEA,QAAMC,YAAY,GAAG,MAAM;AACzB,QACEC,MAAM,CAACC,WAAP,GAAqBC,QAAQ,CAACC,eAAT,CAAyBC,SAA9C,KACEF,QAAQ,CAACC,eAAT,CAAyBE,YAD3B,IAEAX,OAHF,EAIE;AACA,aAAO,KAAP;AACD;;AAEDC,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GAVD;;AAYAL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACI,OAAL,EAAc;;AAEd,QAAIE,KAAK,GAAGE,eAAR,IAA2BQ,WAA/B,EAA4C;AAC1CT,MAAAA,QAAQ,CAACS,WAAD,CAAR;AACD,KAFD,MAEO;AACLT,MAAAA,QAAQ,CAACD,KAAK,GAAGE,eAAT,CAAR;AACD;;AAEDH,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAVQ,EAUN,CAACD,OAAD,CAVM,CAAT;AAYAJ,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,MAAM,CAACO,gBAAP,CAAwB,QAAxB,EAAkCR,YAAlC;AACA,WAAO,MAAMC,MAAM,CAACQ,mBAAP,CAA2B,QAA3B,EAAqCT,YAArC,CAAb;AACD,GAHQ,EAGN,EAHM,CAAT;AAKA,SAAO;AAAEH,IAAAA;AAAF,GAAP;AACD,CAlCM","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react';\nimport { v, INITIAL_STORY_LOAD } from './config';\n\nexport const useInfiniteScroll = () => {\n  const [loading, setLoading] = useState(false);\n  const [count, setCount] = useState(STORY_INCREMENT);\n\n  const handleScroll = () => {\n    if (\n      window.innerHeight + document.documentElement.scrollTop !==\n        document.documentElement.offsetHeight ||\n      loading\n    ) {\n      return false;\n    }\n\n    setLoading(true);\n  };\n\n  useEffect(() => {\n    if (!loading) return;\n\n    if (count + STORY_INCREMENT >= MAX_STORIES) {\n      setCount(MAX_STORIES);\n    } else {\n      setCount(count + STORY_INCREMENT);\n    }\n\n    setLoading(false);\n  }, [loading]);\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return { count };\n};"]},"metadata":{},"sourceType":"module"}