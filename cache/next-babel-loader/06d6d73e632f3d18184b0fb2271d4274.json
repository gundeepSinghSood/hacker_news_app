{"ast":null,"code":"var _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react';\nimport { MAX_STORIES, INITIAL_STORY_LOAD } from './config';\nimport { debounce } from '../util/debounce';\nexport var useInfiniteScroll = function useInfiniteScroll() {\n  _s();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(INITIAL_STORY_LOAD),\n      count = _useState2[0],\n      setCount = _useState2[1];\n\n  var handleScroll = debounce(function () {\n    if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || loading) {\n      return false;\n    }\n\n    setLoading(true);\n  }, 500);\n  useEffect(function () {\n    if (!loading) return;\n\n    if (count + INITIAL_STORY_LOAD >= MAX_STORIES) {\n      setCount(MAX_STORIES);\n    } else {\n      setCount(count + INITIAL_STORY_LOAD);\n    }\n\n    setLoading(false);\n  }, [loading]);\n  useEffect(function () {\n    window.addEventListener('scroll', handleScroll);\n    return function () {\n      return window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n  return {\n    count: count\n  };\n};\n\n_s(useInfiniteScroll, \"Po7rQ1vcvqM7TQ0x0Lnr8HO68/A=\");","map":{"version":3,"sources":["/Users/gunsood/Documents/Projects/Hacker_News_Article_App/hacker-news-app/util/useInfiniteScroll.js"],"names":["useState","useEffect","MAX_STORIES","INITIAL_STORY_LOAD","debounce","useInfiniteScroll","loading","setLoading","count","setCount","handleScroll","window","innerHeight","document","documentElement","scrollTop","offsetHeight","addEventListener","removeEventListener"],"mappings":";;AAAA;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,kBAAtB,QAAgD,UAAhD;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAAA;;AAAA,kBACPL,QAAQ,CAAC,KAAD,CADD;AAAA,MAC9BM,OAD8B;AAAA,MACrBC,UADqB;;AAAA,mBAEXP,QAAQ,CAACG,kBAAD,CAFG;AAAA,MAE9BK,KAF8B;AAAA,MAEvBC,QAFuB;;AAIrC,MAAMC,YAAY,GAAGN,QAAQ,CAAC,YAAM;AAClC,QACEO,MAAM,CAACC,WAAP,GAAqBC,QAAQ,CAACC,eAAT,CAAyBC,SAA9C,KACEF,QAAQ,CAACC,eAAT,CAAyBE,YAD3B,IAEAV,OAHF,EAIE;AACA,aAAO,KAAP;AACD;;AAEDC,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GAV4B,EAU1B,GAV0B,CAA7B;AAYAN,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACK,OAAL,EAAc;;AAEd,QAAIE,KAAK,GAAGL,kBAAR,IAA8BD,WAAlC,EAA+C;AAC7CO,MAAAA,QAAQ,CAACP,WAAD,CAAR;AACD,KAFD,MAEO;AACLO,MAAAA,QAAQ,CAACD,KAAK,GAAGL,kBAAT,CAAR;AACD;;AAEDI,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAVQ,EAUN,CAACD,OAAD,CAVM,CAAT;AAYAL,EAAAA,SAAS,CAAC,YAAM;AACdU,IAAAA,MAAM,CAACM,gBAAP,CAAwB,QAAxB,EAAkCP,YAAlC;AACA,WAAO;AAAA,aAAMC,MAAM,CAACO,mBAAP,CAA2B,QAA3B,EAAqCR,YAArC,CAAN;AAAA,KAAP;AACD,GAHQ,EAGN,EAHM,CAAT;AAKA,SAAO;AAAEF,IAAAA,KAAK,EAALA;AAAF,GAAP;AACD,CAlCM;;GAAMH,iB","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react';\nimport { MAX_STORIES, INITIAL_STORY_LOAD } from './config';\nimport { debounce } from '../util/debounce';\n\nexport const useInfiniteScroll = () => {\n  const [loading, setLoading] = useState(false);\n  const [count, setCount] = useState(INITIAL_STORY_LOAD);\n\n  const handleScroll = debounce(() => {\n    if (\n      window.innerHeight + document.documentElement.scrollTop !==\n        document.documentElement.offsetHeight ||\n      loading\n    ) {\n      return false;\n    }\n\n    setLoading(true);\n  }, 500);\n\n  useEffect(() => {\n    if (!loading) return;\n\n    if (count + INITIAL_STORY_LOAD >= MAX_STORIES) {\n      setCount(MAX_STORIES);\n    } else {\n      setCount(count + INITIAL_STORY_LOAD);\n    }\n\n    setLoading(false);\n  }, [loading]);\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return { count };\n};"]},"metadata":{},"sourceType":"module"}